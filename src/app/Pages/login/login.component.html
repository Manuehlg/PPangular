<div class="login-container">
  <div class="login-content">
    <div class="brand-section">
      <img src="assets/water-well.svg" alt="Logo ProyectoPozo" class="login-logo">
      <h1 class="company-name">Proyecto<span>Pozos</span></h1>
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="form">
      <h2 class="form-title">Iniciar Sesión</h2>
      <p class="form-subtitle">Accede a tu panel de control</p>

      <div class="input-group">
        <label for="email">Correo electrónico</label>
        <div class="input-container">
          <i class="fas fa-envelope"></i>
          <input
            id="email"
            type="email"
            placeholder="ejemplo@empresa.com"
            formControlName="email"
            autocomplete="email">
        </div>
        <div class="input-error" *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.invalid">
          <i class="fas fa-exclamation-circle"></i>
          Por favor, introduce un correo electrónico válido
        </div>
      </div>

      <div class="input-group">
        <label for="password">Contraseña</label>
        <div class="input-container">
          <i class="fas fa-lock"></i>
          <input
            id="password"
            type="password"
            placeholder="Introduce tu contraseña"
            formControlName="password"
            autocomplete="current-password">
          <button
            type="button"
            class="toggle-password"
            (click)="togglePasswordVisibility($event)"
            [attr.aria-label]="showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'">
            <i style="margin-left: 9px" class="fas" [class.fa-eye]="!showPassword" [class.fa-eye-slash]="showPassword"></i>
          </button>
        </div>
        <div class="input-error" *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.invalid">
          <i class="fas fa-exclamation-circle"></i>
          La contraseña es requerida
        </div>
      </div>

      <div *ngIf="loginError" class="error-message">
        <i class="fas fa-exclamation-triangle"></i>
        {{ loginError }}
      </div>

      <button class="submit-btn" type="submit" [disabled]="!loginForm.valid || isLoading">
        <span *ngIf="!isLoading">Iniciar Sesión</span>
        <i *ngIf="isLoading" class="fas fa-circle-notch fa-spin"></i>
      </button>

      <div class="form-footer">
        <p>Sistema de Gestión de Pozos de Agua</p>
        <small>© {{ currentYear }} Todos los derechos reservados</small>
      </div>
    </form>
  </div>
</div>
